{"version":3,"sources":["icons sync /.svg$","icons/chart.svg","icons/left.svg","icons/money.svg","icons/right.svg","icons/tag.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","lib/creatId.tsx","hooks/useUpdate.tsx","hooks/useTags.tsx","components/Button.tsx","components/Center.tsx","components/Space.tsx","views/Tags.tsx","views/Money/TagsSection.tsx","components/Input.tsx","views/Money/NoteSection.tsx","views/Money/CategorySection.tsx","views/Money/NumberPadSection/Wrapper.tsx","views/Money/NumberPadSection.tsx","views/Money/NumberPadSection/generateOutput.tsx","hooks/useRecords.tsx","views/Money.tsx","views/Statistics.tsx","views/NoMatch.tsx","views/Tag.tsx","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","console","log","Icon","props","name","children","className","rest","cs","xlinkHref","NavWrapper","styled","nav","Nav","to","activeClassName","Wrapper","div","Main","Layout","mainRef","useRef","useEffect","setTimeout","current","scrollTop","ref","data-x","defaultProps","parseInt","window","localStorage","getItem","createId","setItem","JSON","stringify","useUpdate","fn","dependency","count","useTags","useState","tags","setTags","localTags","parse","length","getName","tag","filter","t","addTag","tagName","prompt","findTag","updateTag","findTagIndex","result","i","deleteTag","Button","button","Center","Space","TagList","ol","Tags","onClick","section","TagsSection","selectedTagIds","value","tagId","indexOf","onChange","Label","label","Input","NoteSection","note","type","target","placeholder","CategorySection","categoryMap","categoryList","category","c","NumberPadSection","toString","output","_setOutput","text","textContent","split","concat","newOutput","slice","parseFloat","setOutput","generateOutput","onOk","useRecords","records","setRecords","addRecord","newRecord","amount","alert","tagIds","record","createdAt","Date","toISOString","MyLayout","CategoryWrapper","defaultFormData","Money","selected","setSelected","obj","Item","Header","h3","Statistics","setCategory","hash","r","key","day","format","push","array","entries","sort","a","b","date","reduce","span","index","NoMatch","Topbar","header","InputWrapper","Tag","idString","useParams","history","useHistory","goBack","tagContent","AppWrapper","App","exact","path","from","React","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6f82b3c9.chunk.js","sourcesContent":["var map = {\n\t\"./chart.svg\": 44,\n\t\"./left.svg\": 45,\n\t\"./money.svg\": 46,\n\t\"./right.svg\": 47,\n\t\"./tag.svg\": 48\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 43;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chart\",\n  \"use\": \"chart-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"chart\\\"><path d=\\\"M798.814 959.589h-571.71c-45.108 0-81.673-36.565-81.673-81.673V142.86c0-45.108 36.565-81.673 81.673-81.673h571.71c45.108 0 81.673 36.565 81.673 81.673v735.056c0 45.108-36.565 81.673-81.673 81.673zm0-816.729h-571.71v735.056h571.71V142.86zM431.286 306.206H308.777v-81.673h122.509v81.673zm0 163.345H308.777v-81.673h122.509v81.673zm285.855 163.346H308.777v-81.673h408.364v81.673zm0 163.346H308.777V714.57h408.364v81.673zm-204.182-571.71h204.182v245.019H512.959V224.533z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><path d=\\\"m394.24 512 289.28-263.68c10.24-10.24 10.24-25.6 0-35.84-10.24-10.24-25.6-10.24-35.84 0l-307.2 279.04c-5.12 5.12-7.68 12.8-7.68 20.48s2.56 15.36 7.68 20.48l307.2 279.04c10.24 10.24 25.6 10.24 35.84 0 10.24-10.24 10.24-25.6 0-35.84L394.24 512z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><path d=\\\"M841.5 631.1c-43.2-115.2-162.5-240.7-187.8-265l-.9-.9c-3-2.7-6.2-5.5-9.8-8.4-2.7-2.9-5.2-5.4-7.5-7.8 7.7 6.4 17.5 10.4 28.4 10.4 17.4 0 32.3-10.1 39.7-24.6 25.9 5.2 93.8 20 102.7 57.2 2.1 8.8 10 14.7 18.7 14.7 1.5 0 3-.2 4.5-.5 10.3-2.5 16.7-12.8 14.2-23.2-11.2-46.5-62.6-68-101.7-78.7 18.5-17.3 35.1-39.3 37-54.6 1.3-10.2-5.8-19-16-20.7-10.2-1.7-20 5.6-22.1 15.7-2.1 10-26.2 34.6-40.3 44.7-8.1-11.6-21.5-19.3-36.7-19.3-13.4 0-25.3 6-33.5 15.4 4.7-7 9.7-11.8 12.2-14 1.8-1.6 5.2-4.2 9.6-7.7 48.8-38.4 95.3-70.6 104.9-100.3 2.7-8.2 4.5-13.5 5.8-17 1.9-5.4 7.5-21.2-6.9-28.5-2.9-3.1-8.1-6.8-16.4-6.8-6.5 0-13 2.2-21.3 5-13.8 4.7-33 10-45.4 4.8-10.4-4.4-20.4-11.5-30.9-19-19.6-13.9-41.8-29.8-72.9-32-24.7-1.8-44.8 6.6-64 14.7-17.1 7.2-33.2 14-54.9 14h-.1c-21.1-.4-44.1-3.5-64.4-6.2-19.1-2.6-35.6-4.8-48.9-4.8-5.6 0-10.3.4-13.4 1.1-2-1.6-5.1-5.4-9.1-11.3-3.1-4.6-7.9-11.6-17.7-11.6-5.5 0-10.9 2.7-14.2 7.1-5.8 7.7-5.5 9 4.2 43.2l1.4 4.9c.3 1.1.6 3.1 1.1 5.8 3.4 19.2 11.5 56.8 33 80.2 3 3.8 6.3 7.9 9.9 12.3 16.5 20.3 37.7 46.5 48.3 74.5-5.2 1.1-10.4 1.9-15.6 3.1-9.5 2.1-15.5 11.6-13.4 21.1 2.1 9.5 11.6 15.4 21.1 13.3 4.8-1.1 9.6-1.9 14.4-2.8-.3 9.2-2.3 18.5-6.6 27.6-2.7 3.9-5.4 7-8 9.2-89.3 75.6-152.9 170-188.8 265.9-35.6 94.9-38.1 133.8-37.6 165.4.7 43.3 2.5 158.2 207.3 161.2 182.7 2.7 205.9 2 319.5.7 204.5-2.2 206.2-118.3 206.9-162 .1-31.8-2.4-70.7-38-165.5zM359.1 204.4c-3.4-4.2-6.6-8.2-10.4-12.9-14.3-15.6-21.4-50.4-24.5-67.3 1.4-.1 2.9-.3 4.3-.6 1.3-.3 3.7-.6 8-.6 11 0 27.1 2.2 44.2 4.5 21.2 2.8 45.3 6.1 68.4 6.5h2.5c27.1 0 48.3-8.9 67-16.8 16.9-7.1 31.1-13.2 47.7-12 21.2 1.5 37.6 13.2 55 25.5 11.6 8.3 23.6 16.8 37.6 22.7 20.2 8.6 47 3.9 64.8-1.9-.1.3-.2.7-.3 1-5.1 15.7-36.4 38.8-93.1 83.5-4.9 3.9-8.6 6.8-10.6 8.5-5.9 5-20.3 16-28.7 37.3-51.7-8.1-112.2-7.2-175.7 2.6-12.1-36-37.7-57.2-56.2-80zm267.6 135.2c-3.1-3.8-5-7.3-5.9-12.3.1 0 .2.1.4.1 1.2 4.4 3 8.5 5.5 12.2zm217.1 456.3c-.7 43.8-1.9 122.2-172 124.1-99.8 1.1-112.5 2.4-318.6-.7-170.6-2.5-171.9-80-172.5-123.4-.4-28.3 1.9-63.4 35.4-152.5C249.9 553.2 310 463.7 394.7 392c5.2-4.4 10.3-10.2 15.1-17.3.4-.6.8-1.3 1.2-2 8.6-17.2 11.7-34.2 11-50.6 58.9-8.9 115.4-9.8 162.9-2.5 0 1.4-.2 2.6-.1 4 1.7 26.4 12.7 37.3 24.3 48.8 2.7 2.7 5.6 5.6 8.8 9 .6.6 1.2 1.2 1.8 1.7 3.6 3 6.9 5.8 9.5 8.2 14 13.3 137.8 141 179.4 252.1 33.3 89.2 35.6 124.2 35.2 152.5zM520.9 627.3v-98.2c22.3 4.6 42.4 15.1 58.6 32.9l22.4-27.3c-20.5-21.3-47.3-35.6-81-40v-41.9h-19.5v.4h-17.1v39.9c-53.8 4-91.2 36.8-91.2 82.9 0 55.1 45.5 70.4 91.2 82.9v108.9c-35.4-4-61.2-22-78.2-42.1l-22.4 28.7c22.4 25.5 55.4 44.4 100.6 47.1v40.2h29.5v-.3h7.1v-41c63.8-7.4 87.8-47.5 87.8-86.4 0-55.7-43.8-73.8-87.8-86.7zm-36.6-9.2c-30.5-9-52.7-19.7-52.7-44.4 0-26 20.9-44.8 52.7-47.1v91.5zM520.9 767v-98.6c28 9.1 49.2 21.5 49.2 48.4.1 20.1-12.3 43.7-49.2 50.2z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><path d=\\\"M294.4 908.8 684.8 512 294.4 115.2c-25.6-25.6-25.6-70.4 0-96 25.6-25.6 70.4-25.6 96 0L832 460.8c12.8 12.8 19.2 32 19.2 51.2s-6.4 32-19.2 51.2l-441.6 441.6c-25.6 25.6-70.4 25.6-96 0-32-25.6-32-70.4 0-96z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><path d=\\\"M469.333 256h-42.666v213.333h42.666V256zM256 256h-42.667v213.333H256V256zm128 0h-85.333v213.333H384V256zm256 0h-42.667v213.333H640V256zm-85.333 0H512v213.333h42.667V256zM704 170.667H149.333C136.533 170.667 128 179.2 128 192v768c0 12.8 8.533 21.333 21.333 21.333 6.4 0 10.667-2.133 14.934-6.4l89.6-72.533 72.533 72.533c4.267 4.267 8.533 6.4 14.933 6.4s10.667-2.133 14.934-6.4l70.4-70.4 70.4 70.4c4.266 4.267 8.533 6.4 14.933 6.4s10.667-2.133 14.933-6.4l72.534-72.533 89.6 72.533c4.266 4.267 8.533 6.4 14.933 6.4 12.8 0 21.333-8.533 21.333-21.333V192c0-12.8-8.533-21.333-21.333-21.333zM682.667 915.2l-70.4-55.467c-4.267-4.266-8.534-6.4-14.934-6.4-6.4 0-10.666 2.134-14.933 6.4l-70.4 70.4-70.4-70.4c-4.267-4.266-8.533-6.4-14.933-6.4s-10.667 2.134-14.934 6.4l-70.4 70.4-70.4-70.4c-4.266-4.266-8.533-6.4-14.933-6.4s-10.667 2.134-14.933 6.4l-70.4 55.467V213.333h512V915.2zm-256-360.533H213.333v42.666h213.334v-42.666zm448-512H320c-12.8 0-21.333 8.533-21.333 21.333v64h42.666V85.333h512V787.2l-70.4-55.467c-4.266-4.266-8.533-6.4-14.933-6.4v51.2l2.133-2.133 89.6 72.533c4.267 4.267 8.534 6.4 14.934 6.4 12.8 0 21.333-8.533 21.333-21.333V64c0-12.8-8.533-21.333-21.333-21.333zM640 640H213.333v42.667H640V640zm-128 85.333H213.333V768H512v-42.667z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from \"react\";\r\nimport cs from 'classnames';\r\n//如和require一整个目录\r\nlet importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\r\ntry {importAll(require.context('icons', true, /\\.svg$/));} catch (error) {console.log(error);}\r\ntype Props = {\r\n    name?:string\r\n} & React.SVGAttributes<any>\r\nconst Icon=(props:Props)=>{\r\n    const {name,children,className, ...rest}=props\r\n    return(\r\n        <svg className={cs('icon',className)} {...rest}>\r\n            {props.name && <use xlinkHref={'#'+props.name}/>}\r\n        </svg>\r\n    )\r\n}\r\nexport default Icon;","import styled from \"styled-components\";\r\nimport { NavLink} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport Icon from \"./Icon\";\r\n\r\n\r\nconst NavWrapper = styled.nav`\r\nbackground: white;\r\nline-height: 24px;\r\nbox-shadow: 0 0 3px rgba(0,0,0,0.25);\r\n> ul {\r\ndisplay: flex;\r\n>li{\r\nwidth:33.3%;\r\ntext-align:center;\r\n>a{\r\ndisplay: flex;\r\nflex-direction: column;\r\npadding: 4px 0;\r\nalign-items: center;\r\n.icon{\r\nwidth: 24px;\r\nheight: 24px;\r\n}\r\n&.selected{\r\ncolor: deeppink;\r\n.icon{\r\nfill: deeppink;\r\n}\r\n}\r\n}\r\n}\r\n}`;\r\nconst Nav = () =>{\r\n    return(\r\n        <NavWrapper>\r\n            <ul>\r\n                <li>\r\n                    <NavLink to=\"/tags\" activeClassName=\"selected\">\r\n                        <Icon name=\"tag\"/>标签页</NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink to=\"/money\" activeClassName=\"selected\">\r\n                        <Icon name=\"money\"/>记账页</NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink to=\"/statistics\" activeClassName=\"selected\">\r\n                        <Icon name=\"chart\"/>统计页</NavLink>\r\n                </li>\r\n            </ul>\r\n        </NavWrapper>\r\n    )\r\n}\r\nexport default Nav;","import Nav from \"./Nav\";\r\nimport React, {useEffect, useRef} from \"react\";\r\nimport styled from \"styled-components\";\r\nconst Wrapper = styled.div`\r\nmin-height: 100vh;\r\ndisplay:flex;\r\nflex-direction: column;\r\n`;\r\nconst Main = styled.div`\r\nborder:1px solid green;\r\nflex-grow: 1;\r\noverflow: auto;\r\n`;\r\ntype Props = {\r\n    className?:string;\r\n    scrollTop?:number;\r\n}\r\nconst Layout: React.FC<Props> = (props)=>{\r\n    const mainRef = useRef<HTMLDivElement>(null);\r\n    useEffect(()=>{\r\n        setTimeout(()=>{\r\n            if(!mainRef.current){return;}\r\n            //  props.scrollTop加！叫ts不要管那么多，反正我不会让他为空\r\n            mainRef.current.scrollTop = props.scrollTop!;\r\n        },0);\r\n    },[props.scrollTop]);\r\n    return(\r\n        <Wrapper>\r\n            <Main ref={mainRef} className={props.className} data-x={'frank'}>\r\n                {props.children}\r\n            </Main>\r\n            <Nav/>\r\n        </Wrapper>\r\n    )\r\n};\r\n//给它一个默认值\r\nLayout.defaultProps={\r\n    scrollTop:0\r\n}\r\nexport default Layout;","let id = parseInt(window.localStorage.getItem('idMax')||'0');\r\nconst createId = ():number=>{\r\n    id +=1;\r\n    window.localStorage.setItem('idMax',JSON.stringify(id))\r\n    return id;\r\n};\r\nexport {createId}","import {useEffect, useRef} from \"react\";\r\n\r\nexport const useUpdate =(fn: ()=>void,dependency:any[])=>{\r\n    const count = useRef(0);\r\n    useEffect(()=>{\r\n        count.current +=1;\r\n    });\r\n    useEffect(()=>{\r\n        if(count.current >1){\r\n           fn();\r\n        }\r\n    },[fn,dependency]);\r\n}\r\n","import {useEffect, useState} from \"react\";\r\nimport {createId} from \"lib/creatId\";\r\nimport {useUpdate} from \"./useUpdate\";\r\n//封装一个自定义Hook\r\nconst useTags = () =>{\r\n    const [tags, setTags] = useState<{id:number;name:string}[]>([]);\r\n    //什么都不写，给一个空，然后进行第一次渲染\r\n    useEffect(()=>{\r\n        let localTags=JSON.parse(window.localStorage.getItem('tags')||'[]');\r\n        if(localTags.length === 0){\r\n            localTags =[\r\n                {id:createId(),name:'衣服'},\r\n                {id:createId(),name:'食物'},\r\n                {id:createId(),name:'住宿'},\r\n                {id:createId(),name:'出行'}\r\n            ];\r\n        }\r\n        setTags(localTags);\r\n    },[]);//组件挂载时执行\r\n    useUpdate(()=>{\r\n        window.localStorage.setItem('tags',JSON.stringify(tags))\r\n    },tags)\r\n    const findTag = (id:number) => tags.filter(tag =>tag.id ===id)[0];\r\n    const findTagIndex = (id:number)=>{\r\n        let result = -1;\r\n        for(let i = 0; i< tags.length; i++){\r\n            if(tags[i].id === id){\r\n                result = i;\r\n                break;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    const updateTag = (id:number,{name}:{name:string})=>{\r\n        setTags(tags.map(tag => tag.id === id ? {id, name:name} : tag));\r\n    };\r\n    const deleteTag = (id:number)=>{\r\n       // filter会创建一个新的数组，把不等于当前id的tag保留下来\r\n       setTags(tags.filter(tag=>tag.id!==id))\r\n    };\r\n    const addTag = ()=>{\r\n        const tagName = window.prompt('请输入要添加的标签名');\r\n        if(tagName!== null && tagName !==''){\r\n            setTags([...tags,{id:createId(),name:tagName}])\r\n        }\r\n    };\r\n    const getName = (id:number) =>{\r\n        const tag = tags.filter(t => t.id === id)[0];\r\n        return tag ? tag.name : '';\r\n    };\r\n    return {tags, getName,addTag,setTags,findTag,updateTag,findTagIndex,deleteTag};\r\n};\r\nexport {useTags}\r\n","import styled from \"styled-components\";\r\n\r\nconst Button = styled.button`\r\nfont-size: 18px;border: none;padding: 8px 12px;\r\nbackground: #f60;border-radius: 4px;\r\ncolor: white;\r\n`;\r\nexport {Button}","import styled from \"styled-components\";\r\n\r\nconst Center = styled.div`\r\ndisplay: flex;\r\njustify-content: center;\r\nalign-items: center;\r\nflex-direction: column;\r\n`;\r\nexport {Center}","import styled from \"styled-components\";\r\n\r\nconst Space = styled.div`\r\nheight: 16px;\r\n`;\r\nexport {Space};","import Layout from \"components/Layout\";\r\nimport React from \"react\";\r\nimport {useTags} from \"hooks/useTags\";\r\nimport styled from \"styled-components\";\r\nimport Icon from \"components/Icon\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Button} from \"components/Button\";\r\nimport {Center} from \"../components/Center\";\r\nimport {Space} from \"../components/Space\";\r\n\r\nconst TagList = styled.ol`\r\nfont-size: 16px;\r\nbackground: white;\r\n> li{\r\nborder-bottom: 1px solid #d5d5d9;\r\nline-height: 20px;\r\nmargin-left: 16px;\r\n> a{\r\npadding: 12px 16px 12px 0;\r\ndisplay: flex;\r\njustify-content: space-between;\r\nalign-items: center;\r\n}\r\n}\r\n`;\r\n\r\nfunction Tags() {\r\n    const {tags,addTag} =useTags()\r\n    return (\r\n        <Layout>\r\n          <TagList>\r\n              {tags.map(tag =>\r\n                      <li key={tag.id}>\r\n                          <Link to={'/tags/' + tag.id}>\r\n                              <span className=\"oneLine\">{tag.name}</span>\r\n                              <Icon name=\"right\"/>\r\n                          </Link>\r\n                      </li>\r\n                  )}\r\n          </TagList>\r\n            <Center>\r\n                <Space/>\r\n                <Space/>\r\n                <Space/>\r\n                <Button onClick={addTag}>新增标签</Button>\r\n                <Space/>\r\n            </Center>\r\n        </Layout>\r\n    );\r\n}\r\nexport default Tags;","import styled from \"styled-components\";\r\nimport React from \"react\";\r\nimport {useTags} from \"../../hooks/useTags\";\r\n\r\nconst Wrapper = styled.section`\r\nbackground: #ffffff;\r\npadding: 12px 16px;\r\nflex-grow: 1;\r\nflex-shrink: 1;overflow: auto;\r\ndisplay: flex;flex-direction: column;\r\nalign-items: flex-start;\r\n> ol{\r\nmargin: 0 -12px;\r\n>li{\r\nbackground: #D9D9D9;\r\nborder-radius: 18px;\r\ndisplay: inline-block;\r\npadding: 3px 18px;\r\nfont-size: 14px;\r\nmargin: 8px 12px;\r\n&.selected{\r\nbackground: hotpink;\r\n}\r\n}\r\n}\r\n>button{\r\nbackground: none;\r\nborder: none;\r\npadding: 2px 4px;\r\nborder-bottom: 1px solid #333;\r\ncolor: #666;\r\nmargin-top: 8px;\r\n}\r\n`;\r\ntype Props = {\r\n    value:number[];\r\n    onChange:(selected:number[])=>void;\r\n      }\r\n\r\nconst TagsSection:React.FC<Props>= (props)=>{\r\n\r\n    const {tags,addTag} =useTags()\r\n    const selectedTagIds = props.value;\r\n    const onToggleTag = (tagId: number) => {\r\n        const index = selectedTagIds.indexOf(tagId);\r\n        if(index >= 0){\r\n            //如果tag已被选中，就复制所以没有被选中的tag，作为新的selectedTag\r\n            props.onChange(selectedTagIds.filter(t => t!== tagId));\r\n        }else{\r\n            props.onChange([...selectedTagIds,tagId])\r\n        }\r\n    };\r\n    const getClass=(tagId:number)=>selectedTagIds.indexOf(tagId) >= 0 ? 'selected':'';\r\n    return (\r\n        <Wrapper>\r\n            <button onClick={addTag}>新增标签</button>\r\n        <ol>\r\n            {tags.map(tag =>\r\n            <li key={tag.id} onClick={\r\n                ()=>{onToggleTag(tag.id)}\r\n            } className={getClass(tag.id)}>{tag.name}</li>)}\r\n        </ol>\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nexport {TagsSection}","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nconst Label = styled.label`\r\ndisplay: flex;\r\nalign-items: center;\r\n>span{\r\nmargin-right: 16px;\r\nwhite-space: nowrap;\r\n}\r\n>input{\r\ndisplay: block;\r\nwidth: 100%;\r\nheight: 44px;\r\nbackground: none;\r\nborder: none;\r\n}\r\n`;\r\ntype Props ={\r\n    label:string;\r\n}&React.InputHTMLAttributes<HTMLInputElement>;\r\nconst Input:React.FC<Props>=(props)=>{\r\n    const {label,children, ...rest} = props;\r\n    return(<Label>\r\n        <span>{props.label}</span>\r\n        <input {...rest} />\r\n    </Label>);\r\n}\r\nexport {Input}","import styled from \"styled-components\";\r\nimport React, {ChangeEventHandler} from \"react\";\r\nimport {Input} from \"../../components/Input\";\r\n\r\nconst Wrapper = styled.section`\r\nbackground: #f5f5f5;\r\npadding: 0 16px;\r\nfont-size: 14px;\r\n`;\r\ntype Props = {\r\n    value:string;\r\n    onChange:(value:string)=>void;\r\n}\r\n    const NoteSection:React.FC <Props>=(props)=>{\r\n    const note = props.value\r\n    const onChange:ChangeEventHandler<HTMLInputElement> = (e)=>{\r\n            props.onChange(e.target.value);\r\n    };\r\n        return(\r\n        <Wrapper>\r\n            <Input label=\"备注\" type=\"text\" value={note}\r\n            onChange={onChange} placeholder=\"请填写备注\">\r\n            </Input>\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nexport {NoteSection}","import styled from \"styled-components\";\r\nimport React, { useState} from \"react\";\r\n\r\nconst Wrapper = styled.section`\r\nfont-size: 24px;\r\n> ul{\r\ndisplay: flex;\r\n>li{\r\nwidth: 50%;\r\ntext-align: center;\r\npadding: 16px 0;\r\nposition: relative;\r\n&.selected::after{\r\ncontent: '';\r\ndisplay: block;\r\nheight: 3px;\r\nbackground: #333;\r\nposition: absolute;\r\nbottom: 0;\r\nwidth: 100%;\r\nleft: 0;\r\n}\r\n}\r\n}\r\n`;\r\ntype Props = {\r\n    value:'-' | '+',\r\n    onChange:(value:'-'|'+') =>void;\r\n}\r\nconst CategorySection:React.FC<Props> =(props)=>{\r\n    const categoryMap = {'-':'支出','+':'收入'};\r\n    const [categoryList] = useState<('+'|'-')[]>(['-','+']);\r\n    const category = props.value\r\n    return(\r\n        <Wrapper>\r\n        <ul>\r\n            {categoryList.map(c =>\r\n                <li key={c}\r\n                    className={category === c ? 'selected' : ''}\r\n                    onClick={() =>{props.onChange(c);}}>\r\n                    {categoryMap[c]}\r\n            </li>)}\r\n        </ul>\r\n        </Wrapper>\r\n)\r\n}\r\nexport {CategorySection}","import styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.section`\r\ndisplay: flex;\r\nflex-direction: column;\r\n> .output{\r\nbackground: white;\r\nfont-size: 36px;\r\nline-height: 72px;\r\ntext-align: right;\r\npadding: 0 16px;\r\nbox-shadow: inset 0 -5px 5px -5px rgba(0,0,0,0.25),\r\n            inset 0  5px 5px -5px rgba(0,0,0,0.25);\r\n}\r\n> .pad{\r\n> button{\r\nfont-size: 18px;\r\nfloat: left;\r\nwidth: 25%;\r\nheight: 64px;\r\nborder: none;\r\n&.ok{\r\nheight: 128px;\r\nfloat: right;\r\n}\r\n&.zero{\r\nwidth: 50%;\r\n}\r\n&:nth-child(1){\r\nbackground: #f2f2f2;\r\n}\r\n&:nth-child(2),\r\n&:nth-child(5){\r\nbackground: #E0E0E0;\r\n}\r\n&:nth-child(3),\r\n&:nth-child(6),\r\n&:nth-child(9){\r\nbackground: #D3D3D3;\r\n}\r\n&:nth-child(4),\r\n&:nth-child(7),\r\n&:nth-child(10){\r\nbackground: #C1C1C1;\r\n}\r\n&:nth-child(8),\r\n&:nth-child(11),\r\n&:nth-child(13){\r\nbackground: #B8B8B8;\r\n}\r\n&:nth-child(12){\r\nbackground: #9A9A9A;\r\n}\r\n&:nth-child(14){\r\nbackground: #A9A9A9;\r\n}\r\n}\r\n\r\n@media(max-height: 570px){\r\n>button{\r\nheight: 40px;\r\n&.ok{\r\nheight: 80px;\r\n}\r\n}\r\n}\r\n}\r\n`\r\nexport {Wrapper}","import React, {useState} from \"react\";\nimport {Wrapper} from \"./NumberPadSection/Wrapper\";\nimport {generateOutput} from \"./NumberPadSection/generateOutput\";\n\ntype Props = {\n    value:number;\n    onChange:(value:number)=>void;\n    onOk?: ()=>void;\n}\nconst NumberPadSection:React.FC<Props>=(props)=>{\n    // const output = props.value.toString();\n    const [output,_setOutput] = useState(props.value.toString())\n    const setOutput = (output:string) => {\n        let newOutput:string;\n        if(output.length>16){\n            newOutput = output.slice(0,16);\n        }else if (output.length === 0){\n            newOutput = '0';\n        }else{\n            newOutput = output;\n        }\n        _setOutput(newOutput)\n        props.onChange(parseFloat(newOutput));\n    }\n    const onClickButtonWrapper = (e:React.MouseEvent)=>{\n        //as指定类型\n        const text = (e.target as HTMLButtonElement).textContent;\n        if(text === null) {return;}\n        if(text==='OK'){\n            if(props.onOk){props.onOk();}\n            return;\n        }\n        if('0123456789.'.split('').concat(['删除','清空']).indexOf(text)>=0){\n            setOutput(generateOutput(text,output))\n        }\n\n    };\n    return(\n        <Wrapper>\n        <div className=\"output\">{output}</div>\n    {/*使用事件委托*/}\n    <div className=\"pad clearfix\" onClick={onClickButtonWrapper}>\n        <button>1</button>\n        <button>2</button>\n        <button>3</button>\n        <button>删除</button>\n        <button>4</button>\n        <button>5</button>\n        <button>6</button>\n        <button>清空</button>\n        <button>7</button>\n        <button>8</button>\n        <button>9</button>\n        <button className=\"ok\">OK</button>\n        <button className=\"zero\">0</button>\n        <button className=\"dot\">.</button>\n    </div>\n        </Wrapper>\n    )\n}\nexport {NumberPadSection}","const generateOutput = (text:string, output ='0')=>{\r\nswitch(text){\r\n    case '0':\r\n    case '1':\r\n    case '2':\r\n    case '3':\r\n    case '4':\r\n    case '5':\r\n    case '6':\r\n    case '7':\r\n    case '8':\r\n    case '9':\r\n        if(output === '0'){\r\n            return text;\r\n        }else{\r\n            return output+text;\r\n        }\r\n    case '.':\r\n        if(output.indexOf('.')>=0){return output;}\r\n        return output + '.';\r\n    case '删除':\r\n        if(output.length ===1){\r\n           return ''\r\n        }else{\r\n            return output.slice(0,-1)\r\n        }\r\n    case '清空':\r\n        return '';\r\n    default:\r\n        return '';\r\n}\r\n}\r\nexport {generateOutput}","import {useEffect, useState} from \"react\";\nimport {useUpdate} from \"./useUpdate\";\n\nexport type RecordItem = {\n    tagIds:number[];\n    note:string;\n    category: '+' |'-';\n    amount:number;\n    createdAt:string;//ISO 8601\n};\n//Omit不要部分选项\ntype newRecordItem = Omit<RecordItem,'createdAt'>\nexport const useRecords = ()=>{\n    const [records,setRecords] = useState<RecordItem[]>([]);\n    useEffect(()=>{\n        setRecords(JSON.parse(window.localStorage.getItem('records') || '[]'));\n    },[]);\n    useUpdate(()=>{\n        window.localStorage.setItem('records',JSON.stringify(records))\n    },records);\n    const addRecord =(newRecord:newRecordItem) =>{\n        if(newRecord.amount <= 0){\n            alert('请输入金额')\n            return false;}\n        if(newRecord.tagIds.length===0){\n            alert('请选择标签')\n            return false\n\n        }\n        const record ={...newRecord,createdAt:(new Date()).toISOString()};\n        setRecords([...records,record]);\n        return true;\n    };\n    return {records,addRecord};\n};","import Layout from \"../components/Layout\";\nimport React, {useState} from \"react\";\nimport styled from \"styled-components\";\nimport {TagsSection} from \"./Money/TagsSection\";\nimport {NoteSection} from \"./Money/NoteSection\";\nimport {CategorySection} from \"./Money/CategorySection\";\nimport { NumberPadSection } from \"./Money/NumberPadSection\";\nimport {useRecords} from \"../hooks/useRecords\";\n\nconst MyLayout = styled(Layout)`\ndisplay: flex;\nflex-direction: column;\n`;\nconst CategoryWrapper = styled.div`\nbackground: #c4c4c4;\n`;\ntype Category = '-'|'+';\nconst defaultFormData ={\n    tagIds:[] as number[],\n    note:'',\n    category:'-' as Category,\n    amount:0\n};\nfunction Money() {\n    const [selected,setSelected] = useState(defaultFormData);\n    const {addRecord} = useRecords();\n    //通过typeof获取一个值的类型\n    //通过Partial来传一个新的类型，这个类型是之前类型的部分类型\n    const onChange = (obj:Partial<typeof selected>)=>{\n        setSelected({\n            ...selected,\n            ...obj\n        })\n    };\n    const submit = ()=>{\n        if(addRecord(selected)){\n            alert('保存成功');\n            setSelected(defaultFormData);\n        }\n    };\n    return (\n        <MyLayout>\n            <TagsSection value={selected.tagIds}\n            onChange={(tagIds)=>onChange({tagIds})}/>\n            <NoteSection value={selected.note}\n                onChange={(note)=>onChange({note})}/>\n                <CategoryWrapper>\n            <CategorySection value={selected.category}\n                                  onChange={(category)=>\n                                  {onChange({category})}}/>\n                </CategoryWrapper>\n            <NumberPadSection value={selected.amount}\n                              onChange={amount=> onChange({amount})}\n                              onOk={submit}/>\n        </MyLayout>\n    );\n}\nexport default Money;","import Layout from \"../components/Layout\";\r\nimport React, {ReactNode, useState} from \"react\";\r\nimport {CategorySection} from \"./Money/CategorySection\";\r\nimport styled from \"styled-components\";\r\nimport {RecordItem, useRecords} from \"../hooks/useRecords\";\r\nimport {useTags} from \"../hooks/useTags\";\r\nimport day from 'dayjs';\r\nconst CategoryWrapper = styled.div`\r\nbackground: #c4c4c4;\r\n`;\r\nconst Item = styled.div`\r\ndisplay: flex;\r\njustify-content: space-between;\r\nbackground: white;\r\nfont-size: 18px;\r\nline-height: 20px;\r\npadding: 10px 16px;\r\nalign-items: center;\r\n> .note{\r\nmargin-right: auto;\r\nmargin-left: 16px;\r\ncolor: #999;\r\n}\r\n`;\r\nconst Header = styled.h3`\r\nfont-size: 18px;\r\nline-height: 20px;\r\npadding: 10px 16px;\r\n`;\r\nfunction Statistics() {\r\n    const [category,setCategory] = useState<'-'|'+'>('-');\r\n    const {records} = useRecords();\r\n    const {getName} =useTags();\r\n    const hash:{[K:string]:RecordItem[]}={}\r\n    const selectedRecords = records.filter(r => r.category === category);\r\n\r\n    selectedRecords.forEach(r=>{\r\n        const key = day(r.createdAt).format('YYYY年MM月DD日')\r\n        if(!(key in hash)){\r\n            hash[key] = []\r\n        }\r\n        hash[key].push(r)\r\n    });\r\n\r\n    const array = Object.entries(hash).sort((a,b)=>{\r\n        if(a[0] === b[0])return 0;\r\n        if(a[0] > b[0])return -1;\r\n        if(a[0] < b[0])return 1;\r\n        return 0;\r\n    });\r\n    return (\r\n        <Layout>\r\n            <CategoryWrapper>\r\n            <CategorySection value={category}\r\n                             onChange={value=>setCategory(value)}/>\r\n            </CategoryWrapper>\r\n            {array.map(([date,records])=><div>\r\n                <Header>\r\n                    {date}\r\n                </Header>\r\n                <div>\r\n                    {records.map(r => {\r\n                        return <Item>\r\n                            <div className=\"tags oneLine\">\r\n                                {r.tagIds\r\n                                    .map(tagId => <span key={tagId}>{getName(tagId)}</span>)\r\n                                    .reduce((result,span,index,array)=>\r\n                                      result.concat(index<array.length-1?[span,'，'] :[span]),\r\n                                        [] as ReactNode[])\r\n                                }\r\n                            </div>\r\n                            {r.note && <div className=\"note\">\r\n                                {r.note}\r\n                            </div>}\r\n                            <div className=\"amount\">\r\n                                ￥{r.amount}\r\n                            </div>\r\n                            {/*{day(r.createdAt).format('YYYY年MM月DD日')}*/}\r\n                        </Item>\r\n                    })}\r\n                </div>\r\n            </div>)}\r\n        </Layout>\r\n    );\r\n}\r\nexport default Statistics;","import React from \"react\";\r\n\r\nfunction NoMatch() {\r\n    return(\r\n        <div>这个页面并不存在</div>\r\n    )\r\n}\r\nexport default NoMatch;","import React from \"react\";\r\nimport {useTags} from \"hooks/useTags\";\r\nimport {useParams, useHistory} from 'react-router-dom';\r\nimport Layout from \"components/Layout\";\r\nimport Icon from \"../components/Icon\";\r\nimport {Button} from \"../components/Button\";\r\nimport styled from \"styled-components\";\r\nimport {Input} from \"../components/Input\";\r\nimport {Center} from \"../components/Center\";\r\nimport {Space} from \"../components/Space\";\r\ntype Params = {\r\n    id:string\r\n};\r\nconst Topbar = styled.header`\r\ndisplay: flex;\r\njustify-content: space-between;\r\nalign-items: center;\r\nline-height: 20px;\r\npadding: 14px;\r\nbackground: white;\r\n`;\r\nconst InputWrapper = styled.div`\r\nbackground: white;\r\npadding: 0 16px;\r\nmargin-top: 16px;\r\n`;\r\nconst Tag:React.FC=()=>{\r\n    const {findTag,updateTag,deleteTag} = useTags()\r\n    let {id:idString} = useParams<Params>();\r\n    const tag = findTag(parseInt(idString));\r\n    const tagContent =(tag:{id:number; name:string})=>(\r\n        <div>\r\n            <InputWrapper>\r\n                <Input label=\"标签名\" type=\"text\" placeholder=\"标签名\"\r\n                       value={tag.name} onChange={(e) => {\r\n                    updateTag(tag.id,{name:e.target.value});}}></Input>\r\n            </InputWrapper>\r\n            <Center>\r\n                <Space/>\r\n                <Space/>\r\n                <Space/>\r\n                <Button onClick={()=>deleteTag(tag.id)}>删除标签</Button>\r\n            </Center>\r\n        </div>\r\n    );\r\n    const history = useHistory()\r\n    const onClickBack = ()=>{\r\n        history.goBack()\r\n    };\r\n    return(\r\n        <Layout>\r\n            <Topbar>\r\n                <Icon name=\"left\" onClick={onClickBack}/>\r\n                <span>编辑标签</span>\r\n                <Icon />\r\n            </Topbar>\r\n            {tag ?  tagContent(tag): <Center>tag不存在</Center>}\r\n        </Layout>\r\n    )\r\n\r\n};\r\nexport {Tag}","import React from 'react';\nimport {\n    HashRouter as Router,\n    Switch,\n    Route,\n    Redirect\n} from \"react-router-dom\";\nimport Tags from \"./views/Tags\";\nimport Money from \"./views/Money\";\nimport Statistics from \"./views/Statistics\";\nimport NoMatch from \"./views/NoMatch\";\nimport styled from \"styled-components\";\nimport {Tag} from \"./views/Tag\";\nconst AppWrapper = styled.div`\ncolor: #333;\n`\n\nclass App extends React.Component {\n    render() {\n        return (\n            <AppWrapper>\n            <Router>\n                <Switch>\n                    {/*:tag匹配任意非斜杆的内容，然后将它改为tag*/}\n                    <Route exact path=\"/tags\">\n                        <Tags/>\n                    </Route>\n                    <Route exact path=\"/tags/:id\">\n                        <Tag/>\n                    </Route>\n                    <Route exact path=\"/money\">\n                        <Money/>\n                    </Route>\n                    <Route exact path=\"/statistics\">\n                        <Statistics/>\n                    </Route>\n                    {/*Redirect默认路由*/}\n                    <Redirect exact from=\"/\" to=\"/money\" />\n                {/*页面不存在*/}\n                <Route path=\"*\">\n                    <NoMatch />\n                </Route>\n                </Switch>\n        </Router>\n            </AppWrapper>);\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'index.scss';\n\nReactDOM.render(\n    //<React.StrictMode>让你知道你的代码有那些错\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}